"use strict";(self.webpackChunktradio=self.webpackChunktradio||[]).push([[8693],{68693:(e,s,a)=>{a.r(s),a.d(s,{default:()=>p});var t=a(9950),n=a(16673),i=a(93047),l=a(81543),c=a(24266),r=a(96011),d=a.n(r),o=a(84894),m=a(29714),u=a(35887),h=a(44414);const p=function(){const[e,s]=(0,t.useState)(""),[r,p]=(0,t.useState)(""),[x,j]=(0,t.useState)(!1),v=(0,n.useHistory)(),{currentUser:f,setAuthProcessing:g,setAuthenticated:N}=(0,t.useContext)(l.c);return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("div",{className:"authincation section-padding",children:(0,h.jsx)("div",{className:"container h-100",children:(0,h.jsx)("div",{className:"row justify-content-center h-100 align-items-center",children:(0,h.jsxs)("div",{className:"col-xl-5 col-md-6",children:[(0,h.jsx)("div",{className:"mini-logo text-center my-5",children:(0,h.jsx)(i.N_,{to:"./",children:(0,h.jsx)("img",{src:a(20678),alt:"",width:"300px"})})}),(0,h.jsx)("div",{className:"auth-form card",children:(0,h.jsxs)("div",{className:"card-body",children:[(0,h.jsxs)(i.N_,{className:"page-back text-muted",to:"./signin",children:[(0,h.jsx)("span",{children:(0,h.jsx)("i",{className:"fa fa-angle-left"})})," ","Back"]}),(0,h.jsx)("h3",{className:"text-center",children:"OTP Verification"}),(0,h.jsx)("p",{className:"text-center mb-5",children:"We will send one time code on this number"}),(0,h.jsxs)("form",{children:[(0,h.jsxs)("div",{className:"mb-3",children:[(0,h.jsx)("label",{children:"Your phone number"}),(0,h.jsxs)("div",{className:"input-group mb-3",children:[(0,h.jsx)("div",{className:"input-group-prepend",children:(0,h.jsx)("span",{className:"input-group-text ps-4 pe-4",children:(0,h.jsx)("i",{className:"fa fa-phone"})})}),(0,h.jsx)("input",{type:"text",className:"form-control",value:e,placeholder:"+1 12365480",onChange:e=>{s(e.target.value)}})]}),r&&(0,h.jsx)("p",{className:"text-danger my-3 text-center",children:r})]}),(0,h.jsx)("div",{className:"text-center mt-4",children:x?(0,h.jsx)("i",{className:"fa fa-spinner text-primary fa-spin fa-2x fa-fw"}):(0,h.jsx)(i.N_,{to:"#",className:"btn btn-success btn-block",onClick:()=>{(async()=>{if(j(!0),p(""),!(0,c.I8)(e))return p("Invalid phone number format detected."),j(!1),!1;try{null!==f&&void 0!==f&&f.email||(g(0),N(!1),(0,c.fE)(""),v.push("signin"));const s={...(0,c.uI)({id:f.id,mobile:(0,c.I8)(e)})},a=m.Ik().shape({id:m.Yj().min(8).max(255).required(),mobile:m.Yj().min(3).max(255).required()});let t="";if(await a.validate(s).catch((e=>(t=e.message,!1))),t)return console.log(t),u.oR.error("Invalid parameter detected."),j(!1),!1;let n=await d().post("".concat(o.Sb,"/auth/send-otp"),{...s});if((null===n||void 0===n?void 0:n.status)!==o.I7)throw new Error("Sending otp code failed.");g(2),v.push("otp-2")}catch(r){var s,a,t,n,i,l;null!==r&&void 0!==r&&null!==(s=r.response)&&void 0!==s&&null!==(a=s.data)&&void 0!==a&&a.message?(console.log("Send-Otp@api-error:",null===r||void 0===r||null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message),p(null===r||void 0===r||null===(i=r.response)||void 0===i||null===(l=i.data)||void 0===l?void 0:l.message)):(console.error("Send-Otp@logic-error:",r.message),p(r.message))}j(!1)})()},children:"Send"})})]}),(0,h.jsx)("div",{className:"new-account mt-3 d-flex justify-content-between",children:(0,h.jsxs)("p",{children:["Don't get code?"," ",(0,h.jsx)(i.N_,{className:"text-primary",to:"/otp-1",children:"Resend"})]})})]})})]})})})})})}},20678:(e,s,a)=>{e.exports=a.p+"static/media/logo.3a5217131dbf810cca8a.png"}}]);